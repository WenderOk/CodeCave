from random import randint

# Список слов от дипсика
words = [    # Основные понятия
    "алгоритм", "программа", "компилятор", "интерпретатор", "переменная",
    "функция", "класс", "объект", "массив", "список", "словарь", "цикл",
    "условие", "рекурсия", "итерация", "синтаксис", "семантика", "байткод",
    
    # Языки программирования
    "питон", "джава", "жаваскрипт", "си", "плюсплюс", "цшарп", "руби",
    "голанг", "котлин", "свифт", "раст", "скала", "пхп", "перл",
    
    # Технологии и фреймворки
    "джанго", "фласк", "реакт", "ангуляр", "вью", "нода", "экспресс",
    "спринг", "харнисс", "градио", "фастпи", "торч", "тензорфлоу",
    
    # Концепции и парадигмы
    "инкапсуляция", "наследование", "полиморфизм", "абстракция",
    "интерфейс", "паттерн", "агностик", "императивный", "декларативный",
    "функциональный", "объектный", "процедурный", "событийный",
    
    # Структуры данных
    "очередь", "стек", "дерево", "граф", "хэш", "куча", "множество",
    "кортеж", "связный", "бинарный", "сбалансированный",
    
    # Базы данных
    "постгре", "монго", "редис", "оракул",
    "запрос", "транзакция", "индекс", "джойн", "вью",
    
    # Безопасность
    "шифрование", "хэширование", "аутентификация", "авторизация",
    "инъекция",
    
    # Аппаратное обеспечение
    "процессор", "память", "жесткий", "ссд", "видеокарта", "материнка",
    "биос", "разгон", "тепловыделение"]

def secret_word(words):
    return words[randint(1,len(words)-1)]

def game(word):
    guessed_letters = []
    attempts = 6
    tries = 0

    while tries <= attempts:    
        output_word = ""
        
        # Тут делаем красивый вывод и проверяем на выигрыш
        for letter in word:
            guessed_word = output_word

            if letter in guessed_letters:
                output_word = guessed_word + letter
            else:
                output_word = guessed_word + "_"
            if output_word == word:
                print(f"You win!\nGuessed word: {word}")
                return 0

        # Выводим своего рода меню
        print(f"\nHangman game")
        print(f"tries remaining: {attempts - tries}")
        print(f"word: {output_word}")
        
        # вводим букву
        letter = input("Guess letter: ").lower()
        
        # Проверямем букву на корректность и ее нахождение в слове
        if len(letter) == 1 and letter.isalpha():
            if letter in word:
                guessed_letters.append(letter)
            else:
                print("You didn't guess. Try again")
                tries+=1
        else:
            print("Wrong symbol! Try again")
    # Если цикл завершается мы проигрываем
    else:
        print(f"You loose!\nGuessed word: {word}")

# Вызываем функции. Думал разделить game() на 3 функции по основным блокам, 
# но застопорился на проверке победы и как-то перехотелось менять что-то.
# В общем, потом как-нибудь.
game(secret_word(words))